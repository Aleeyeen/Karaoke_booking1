{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport _regeneratorRuntime from \"D:/Karaoke_Booking/frontend/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"D:/Karaoke_Booking/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\n\nvar _jsxFileName = \"D:\\\\Karaoke_Booking\\\\frontend\\\\pages\\\\register.js\",\n    _s = $RefreshSig$();\n\nimport Head from 'next/head';\nimport Layout from '../components/layout';\nimport { useState } from 'react';\nimport axios from 'axios';\nimport React from 'react';\nimport { useRouter } from 'next/router';\nvar URL = \"http://localhost/api/register\";\nexport var __N_SSP = true;\nexport default function Register(_ref) {\n  _s();\n\n  var token = _ref.token;\n\n  var _useState = useState(''),\n      username = _useState[0],\n      setUsername = _useState[1];\n\n  var _useState2 = useState(''),\n      email = _useState2[0],\n      setEmail = _useState2[1];\n\n  var _useState3 = useState(''),\n      password = _useState3[0],\n      setPassword = _useState3[1];\n\n  var _useState4 = useState(''),\n      status = _useState4[0],\n      setStatus = _useState4[1];\n\n  var _useState5 = useState(''),\n      confpassword = _useState5[0],\n      setConfpassword = _useState5[1];\n\n  var router = useRouter();\n\n  var register = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(req, res) {\n      var result;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              _context.next = 3;\n              return axios.post(URL, {\n                username: username,\n                email: email,\n                password: password\n              });\n\n            case 3:\n              result = _context.sent;\n              console.log('result: ', result);\n              console.log('result.data:  ', result.data);\n              console.log('token:  ', token);\n              setStatus(result.data.message);\n              _context.next = 13;\n              break;\n\n            case 10:\n              _context.prev = 10;\n              _context.t0 = _context[\"catch\"](0);\n              console.log(_context.t0);\n\n            case 13:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[0, 10]]);\n    }));\n\n    return function register(_x, _x2) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  var checkPassword = function checkPassword() {\n    if (password === confpassword && password.length != 0) {\n      console.log(\"True\");\n      setStatus(\"\");\n      register();\n      router.push('/login');\n    } else {\n      console.log(\"Password isn't Same \");\n      setStatus('Enter Password agains');\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(Layout, {\n    children: [/*#__PURE__*/_jsxDEV(Head, {\n      children: /*#__PURE__*/_jsxDEV(\"title\", {\n        children: \"Online Karaoke Booking\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex flex-col fixed justify-start items-center h-screen w-screen\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-col justify-center items-center w-1/4 h-24 mt-16 rounded-t-xl \\r bg-bluesea divide-y-2 divide-black \",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-xl  font-bold uppercase tracking-wider pb-1 text-center\",\n          children: \"Register\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-lg font-bold uppercase tracking-wide text-center pt-2\",\n          children: \"For Staff\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-col justify-start items-center w-1/4 bg-egg rounded-b-xl shadow-xl\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex flex-col justify-center items-start w-4/5 mt-8\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"-mt-2 font-semibold\",\n            children: \"Username\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            className: \"w-full h-8 mt-2 border-2 border-gray-500 ring \\r ring-gray-400 rounded-md pl-2 focus:outline-none\",\n            placeholder: \"xxxxxx\",\n            onChange: function onChange(e) {\n              return setUsername(e.target.value);\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"mt-4 font-semibold\",\n            children: \"E-mail\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            className: \"w-full h-8 mt-2 border-2 border-gray-500 ring \\r ring-gray-400  rounded-md pl-2 focus:outline-none\",\n            placeholder: \"xxxxxx@gmail.com\",\n            onChange: function onChange(e) {\n              return setEmail(e.target.value);\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"mt-4 font-semibold\",\n            children: \"Password\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            className: \"w-full h-8 mt-2 border-2 border-gray-500 ring \\r ring-gray-400 rounded-md pl-2 focus:outline-none\",\n            type: \"password\",\n            placeholder: \"****\",\n            onChange: function onChange(e) {\n              return setPassword(e.target.value);\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"mt-4 font-semibold\",\n            children: \"Confirm Password\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            className: \"w-full h-8 mt-2 border-2 border-gray-500 ring \\r ring-gray-400 rounded-md pl-2 focus:outline-none\",\n            type: \"password\",\n            placeholder: \"****\",\n            onChange: function onChange(e) {\n              return setConfpassword(e.target.value);\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"mt-2 text-red-600 font-medium text-sm italic\",\n            children: status\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex w-4/5 mt-8 pb-8\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"w-full h-8 font-semibold border-2 border-blue-600 ring rounded-md \\r hover:bg-babyblue focus:outline-none\",\n            onClick: checkPassword,\n            children: \"Create Account\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 51,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Register, \"lsCGIEg2mJ4guY9jqvB/QpQ8j34=\", false, function () {\n  return [useRouter];\n});\n\n_c = Register;\n\nvar _c;\n\n$RefreshReg$(_c, \"Register\");","map":{"version":3,"sources":["D:/Karaoke_Booking/frontend/pages/register.js"],"names":["Head","Layout","useState","axios","React","useRouter","URL","Register","token","username","setUsername","email","setEmail","password","setPassword","status","setStatus","confpassword","setConfpassword","router","register","req","res","post","result","console","log","data","message","checkPassword","length","push","e","target","value"],"mappings":"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","sourcesContent":["import Head from 'next/head'\r\nimport Layout from '../components/layout'\r\nimport {useState} from 'react'\r\nimport axios from 'axios'\r\nimport React from 'react'\r\nimport { useRouter } from 'next/router'\r\n\r\nconst URL = `http://localhost/api/register`\r\n\r\nexport default function Register({ token }) {\r\n\r\n    const [username, setUsername] = useState('')\r\n    const [email, setEmail] = useState('')\r\n    const [password, setPassword] = useState('')\r\n    const [status, setStatus] = useState('')\r\n    const [confpassword, setConfpassword] = useState('')\r\n    const router = useRouter()\r\n\r\n    const register = async (req, res) => {\r\n        try {\r\n            let result = await axios.post(URL,\r\n                { username, email, password })\r\n            console.log('result: ', result)\r\n            console.log('result.data:  ', result.data)\r\n            console.log('token:  ', token)\r\n            setStatus(result.data.message)\r\n        }\r\n        catch (e) {\r\n            console.log(e)\r\n        }\r\n\r\n    }\r\n\r\n    const checkPassword = () =>{\r\n        if(password === confpassword && password.length != 0)\r\n        {\r\n            console.log(\"True\");\r\n            setStatus(\"\")\r\n            register()\r\n            router.push('/login')\r\n        }\r\n        else\r\n        {\r\n            console.log(\"Password isn't Same \");\r\n            setStatus('Enter Password agains')\r\n\r\n        }\r\n    }\r\n\r\n    return (\r\n        <Layout>\r\n            <Head>\r\n                <title>Online Karaoke Booking</title>\r\n            </Head>\r\n          \r\n            <div className='flex flex-col fixed justify-start items-center h-screen w-screen' >  \r\n                <div className='flex flex-col justify-center items-center w-1/4 h-24 mt-16 rounded-t-xl \r\n                bg-bluesea divide-y-2 divide-black '>\r\n                    <span className='text-xl  font-bold uppercase tracking-wider pb-1 text-center'>Register</span>\r\n                    <span className='text-lg font-bold uppercase tracking-wide text-center pt-2'>For Staff</span>\r\n                </div>\r\n                <div className='flex flex-col justify-start items-center w-1/4 bg-egg rounded-b-xl shadow-xl'>\r\n                    <div className='flex flex-col justify-center items-start w-4/5 mt-8'>\r\n                        <label className='-mt-2 font-semibold'>Username</label>\r\n                        <input className='w-full h-8 mt-2 border-2 border-gray-500 ring \r\n                            ring-gray-400 rounded-md pl-2 focus:outline-none' placeholder='xxxxxx' \r\n                            onChange = {(e) => setUsername(e.target.value)}/>\r\n                        <label className='mt-4 font-semibold'>E-mail</label>\r\n                        <input className='w-full h-8 mt-2 border-2 border-gray-500 ring \r\n                            ring-gray-400  rounded-md pl-2 focus:outline-none' placeholder='xxxxxx@gmail.com' \r\n                            onChange = {(e) => setEmail(e.target.value)}/>\r\n                        <label className='mt-4 font-semibold'>Password</label>\r\n                        <input className='w-full h-8 mt-2 border-2 border-gray-500 ring \r\n                            ring-gray-400 rounded-md pl-2 focus:outline-none' type='password' placeholder='****' \r\n                            onChange = {(e) => setPassword(e.target.value)}/>\r\n                        <label className='mt-4 font-semibold'>Confirm Password</label>\r\n                        <input className='w-full h-8 mt-2 border-2 border-gray-500 ring \r\n                            ring-gray-400 rounded-md pl-2 focus:outline-none' type='password' placeholder='****' \r\n                            onChange = {(e) => setConfpassword(e.target.value)}/>\r\n                        <label className = 'mt-2 text-red-600 font-medium text-sm italic'>{status}</label>\r\n                    </div>\r\n                    <div className='flex w-4/5 mt-8 pb-8'>  \r\n                        <button className='w-full h-8 font-semibold border-2 border-blue-600 ring rounded-md \r\n                            hover:bg-babyblue focus:outline-none' onClick={checkPassword}>\r\n                            Create Account\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </Layout>\r\n    )\r\n}\r\n\r\nexport function getServerSideProps({ req, res }) {\r\n    // console.log(\"token from cookie: \",cookie.get(\"token\")) \r\n    // console.log('req: ', req.headers)\r\nreturn { props: { token: req.cookies.token || \"\" } };\r\n}\r\n"]},"metadata":{},"sourceType":"module"}