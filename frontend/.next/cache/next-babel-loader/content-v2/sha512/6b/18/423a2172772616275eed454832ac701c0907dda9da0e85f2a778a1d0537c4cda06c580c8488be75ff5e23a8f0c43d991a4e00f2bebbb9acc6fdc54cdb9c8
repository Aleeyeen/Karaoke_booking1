{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"D:\\\\Karaoke_Booking\\\\frontend\\\\pages\\\\register.js\";\nimport Head from 'next/head';\nimport Layout from '../components/layout';\nimport { useState } from 'react';\nimport axios from 'axios';\nimport React from 'react';\nimport { useRouter } from 'next/router';\nconst URL = `http://localhost/api/register`;\nexport default function Register({\n  token\n}) {\n  const {\n    0: username,\n    1: setUsername\n  } = useState('');\n  const {\n    0: email,\n    1: setEmail\n  } = useState('');\n  const {\n    0: password,\n    1: setPassword\n  } = useState('');\n  const {\n    0: status,\n    1: setStatus\n  } = useState('');\n  const {\n    0: confpassword,\n    1: setConfpassword\n  } = useState('');\n  const router = useRouter();\n\n  const register = async (req, res) => {\n    try {\n      let result = await axios.post(URL, {\n        username,\n        email,\n        password\n      });\n      console.log('result: ', result);\n      console.log('result.data:  ', result.data);\n      console.log('token:  ', token);\n      setStatus(result.data.message);\n    } catch (e) {\n      console.log(e);\n    }\n  };\n\n  const checkPassword = () => {\n    if (password === confpassword && password.length != 0) {\n      console.log(\"True\");\n      setStatus(\"\");\n      register();\n      router.push('/login');\n    } else {\n      console.log(\"Password isn't Same \");\n      setStatus('Enter Password agains');\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(Layout, {\n    children: [/*#__PURE__*/_jsxDEV(Head, {\n      children: /*#__PURE__*/_jsxDEV(\"title\", {\n        children: \"Online Karaoke Booking\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex flex-col fixed justify-start items-center h-screen w-screen\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-col justify-center items-center w-1/4 h-24 mt-16 rounded-t-xl \\r bg-bluesea divide-y-2 divide-black \",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-xl  font-bold uppercase tracking-wider pb-1 text-center\",\n          children: \"Register\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-lg font-bold uppercase tracking-wide text-center pt-2\",\n          children: \"For Staff\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-col justify-start items-center w-1/4 bg-egg rounded-b-xl shadow-xl\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex flex-col justify-center items-start w-4/5 mt-8\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"-mt-2 font-semibold\",\n            children: \"Username\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            className: \"w-full h-8 mt-2 border-2 border-gray-500 ring \\r ring-gray-400 rounded-md pl-2 focus:outline-none\",\n            placeholder: \"xxxxxx\",\n            onChange: e => setUsername(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"mt-4 font-semibold\",\n            children: \"E-mail\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            className: \"w-full h-8 mt-2 border-2 border-gray-500 ring \\r ring-gray-400  rounded-md pl-2 focus:outline-none\",\n            placeholder: \"xxxxxx@gmail.com\",\n            onChange: e => setEmail(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"mt-4 font-semibold\",\n            children: \"Password\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            className: \"w-full h-8 mt-2 border-2 border-gray-500 ring \\r ring-gray-400 rounded-md pl-2 focus:outline-none\",\n            type: \"password\",\n            placeholder: \"****\",\n            onChange: e => setPassword(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"mt-4 font-semibold\",\n            children: \"Confirm Password\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            className: \"w-full h-8 mt-2 border-2 border-gray-500 ring \\r ring-gray-400 rounded-md pl-2 focus:outline-none\",\n            type: \"password\",\n            placeholder: \"****\",\n            onChange: e => setConfpassword(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"mt-2 text-red-600 font-medium text-sm italic\",\n            children: status\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex w-4/5 mt-8 pb-8\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"w-full h-8 font-semibold border-2 border-blue-600 ring rounded-md \\r hover:bg-babyblue focus:outline-none\",\n            onClick: checkPassword,\n            children: \"Create Account\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 51,\n    columnNumber: 9\n  }, this);\n}\nexport function getServerSideProps({\n  req,\n  res\n}) {\n  // console.log(\"token from cookie: \",cookie.get(\"token\")) \n  // console.log('req: ', req.headers)\n  return {\n    props: {\n      token: req.cookies.token || \"\"\n    }\n  };\n}","map":{"version":3,"sources":["D:/Karaoke_Booking/frontend/pages/register.js"],"names":["Head","Layout","useState","axios","React","useRouter","URL","Register","token","username","setUsername","email","setEmail","password","setPassword","status","setStatus","confpassword","setConfpassword","router","register","req","res","result","post","console","log","data","message","e","checkPassword","length","push","target","value","getServerSideProps","props","cookies"],"mappings":"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","sourcesContent":["import Head from 'next/head'\r\nimport Layout from '../components/layout'\r\nimport {useState} from 'react'\r\nimport axios from 'axios'\r\nimport React from 'react'\r\nimport { useRouter } from 'next/router'\r\n\r\nconst URL = `http://localhost/api/register`\r\n\r\nexport default function Register({ token }) {\r\n\r\n    const [username, setUsername] = useState('')\r\n    const [email, setEmail] = useState('')\r\n    const [password, setPassword] = useState('')\r\n    const [status, setStatus] = useState('')\r\n    const [confpassword, setConfpassword] = useState('')\r\n    const router = useRouter()\r\n\r\n    const register = async (req, res) => {\r\n        try {\r\n            let result = await axios.post(URL,\r\n                { username, email, password })\r\n            console.log('result: ', result)\r\n            console.log('result.data:  ', result.data)\r\n            console.log('token:  ', token)\r\n            setStatus(result.data.message)\r\n        }\r\n        catch (e) {\r\n            console.log(e)\r\n        }\r\n\r\n    }\r\n\r\n    const checkPassword = () =>{\r\n        if(password === confpassword && password.length != 0)\r\n        {\r\n            console.log(\"True\");\r\n            setStatus(\"\")\r\n            register()\r\n            router.push('/login')\r\n        }\r\n        else\r\n        {\r\n            console.log(\"Password isn't Same \");\r\n            setStatus('Enter Password agains')\r\n\r\n        }\r\n    }\r\n\r\n    return (\r\n        <Layout>\r\n            <Head>\r\n                <title>Online Karaoke Booking</title>\r\n            </Head>\r\n          \r\n            <div className='flex flex-col fixed justify-start items-center h-screen w-screen' >  \r\n                <div className='flex flex-col justify-center items-center w-1/4 h-24 mt-16 rounded-t-xl \r\n                bg-bluesea divide-y-2 divide-black '>\r\n                    <span className='text-xl  font-bold uppercase tracking-wider pb-1 text-center'>Register</span>\r\n                    <span className='text-lg font-bold uppercase tracking-wide text-center pt-2'>For Staff</span>\r\n                </div>\r\n                <div className='flex flex-col justify-start items-center w-1/4 bg-egg rounded-b-xl shadow-xl'>\r\n                    <div className='flex flex-col justify-center items-start w-4/5 mt-8'>\r\n                        <label className='-mt-2 font-semibold'>Username</label>\r\n                        <input className='w-full h-8 mt-2 border-2 border-gray-500 ring \r\n                            ring-gray-400 rounded-md pl-2 focus:outline-none' placeholder='xxxxxx' \r\n                            onChange = {(e) => setUsername(e.target.value)}/>\r\n                        <label className='mt-4 font-semibold'>E-mail</label>\r\n                        <input className='w-full h-8 mt-2 border-2 border-gray-500 ring \r\n                            ring-gray-400  rounded-md pl-2 focus:outline-none' placeholder='xxxxxx@gmail.com' \r\n                            onChange = {(e) => setEmail(e.target.value)}/>\r\n                        <label className='mt-4 font-semibold'>Password</label>\r\n                        <input className='w-full h-8 mt-2 border-2 border-gray-500 ring \r\n                            ring-gray-400 rounded-md pl-2 focus:outline-none' type='password' placeholder='****' \r\n                            onChange = {(e) => setPassword(e.target.value)}/>\r\n                        <label className='mt-4 font-semibold'>Confirm Password</label>\r\n                        <input className='w-full h-8 mt-2 border-2 border-gray-500 ring \r\n                            ring-gray-400 rounded-md pl-2 focus:outline-none' type='password' placeholder='****' \r\n                            onChange = {(e) => setConfpassword(e.target.value)}/>\r\n                        <label className = 'mt-2 text-red-600 font-medium text-sm italic'>{status}</label>\r\n                    </div>\r\n                    <div className='flex w-4/5 mt-8 pb-8'>  \r\n                        <button className='w-full h-8 font-semibold border-2 border-blue-600 ring rounded-md \r\n                            hover:bg-babyblue focus:outline-none' onClick={checkPassword}>\r\n                            Create Account\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </Layout>\r\n    )\r\n}\r\n\r\nexport function getServerSideProps({ req, res }) {\r\n    // console.log(\"token from cookie: \",cookie.get(\"token\")) \r\n    // console.log('req: ', req.headers)\r\nreturn { props: { token: req.cookies.token || \"\" } };\r\n}\r\n"]},"metadata":{},"sourceType":"module"}